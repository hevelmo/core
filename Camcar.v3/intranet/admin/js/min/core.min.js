
;var domEl,tempsNames,urlsApi;domEl={adm__currency_h:".currency-h",adm__get_sen_list:"#get-sen-list",adm__percentage_d:".percentage-d",adm__picture_sen_action_delete:".picture-sen-action-delete",adm__picture_sen_action_thumb:".picture-sen-action-thumb",adm__real_v:".real-v",adm__sen_action_delete:".sen-action-delete",adm__sen_action_set:".sen-action-set",adm__sen_item:".sen-item",adm__sen_results:"#sen-results",adm__sen_sort:".sen-sort",adm__sen_sorter:"#sen-sorter",adm__set_sen_element:".set-sen-element",adm_btn_new_sen_clean:"button#new-sen-clean",adm_btn_new_sen_save:"button#new-sen-save",adm_btn_new_sen_seminuevos_list:"button#new-sen-seminuevos-list",adm_btn_picture_sen_seminuevos_list:"button#picture-sen-seminuevos-list",adm_btn_sen_filters_clean:"button#sen-filters-clean",adm_btn_set_sen_clean:"button#set-sen-clean",adm_btn_set_sen_restore:"button#set-sen-restore",adm_btn_set_sen_save:"button#set-sen-save",adm_btn_set_sen_seminuevos_list:"button#set-sen-seminuevos-list",adm_class_result_item:".result-item",adm_div_get_sen_filters:"div#div-get-sen-filters",adm_div_get_sen_head:"div#div-get-sen-head",adm_div_get_sen_list:"div#div-get-sen-list",adm_div_inputs_session:"div#hidden-inputs-session",adm_div_inputs_temporal:"div#hidden-inputs-temporal",adm_div_new_sen_agency_container:"div#div-new-sen-agency-container",adm_div_picture_sen_loader:"div#div-picture-sen-loader",adm_div_picture_sen_pictures:"div#div-picture-sen-pictures",adm_div_recurrent:"div#content-temporal-interactive",adm_div_recurrent_start_page_header:"div#start-page-content",adm_div_select_new_sen_agency:"div#div-select-new-sen-agency",adm_div_select_new_sen_brand:"div#div-select-new-sen-brand",adm_div_select_new_sen_category:"div#div-select-new-sen-category",adm_div_select_new_sen_model:"div#div-select-new-sen-model",adm_div_select_new_sen_year:"div#div-select-new-sen-year",adm_div_select_sen_filter_agency:"div#div-select-sen-filter-agency",adm_div_select_sen_filter_brand:"div#div-select-sen-filter-brand",adm_div_select_sen_filter_category:"div#div-select-sen-filter-category",adm_div_select_sen_filter_model:"div#div-select-sen-filter-model",adm_div_select_set_sen_agency:"div#div-select-set-sen-agency",adm_div_select_set_sen_brand:"div#div-select-set-sen-brand",adm_div_select_set_sen_category:"div#div-select-set-sen-category",adm_div_select_set_sen_model:"div#div-select-set-sen-model",adm_div_select_set_sen_year:"div#div-select-set-sen-year",adm_div_sen_filter_agency_container:"div#div-sen-filter-agency-container",adm_div_set_sen_agency_container:"div#div-set-sen-agency-container",adm_div_set_sen_data:"div#set-sen-data",adm_div_set_sen_data_name:"set-sen-data",adm_div_set_sen_load_pictures:"div#set_sen-load-pictures",adm_div_set_sen_load_pictures_name:"set_sen-load-pictures",adm_form_get_sen_filters:"form#get-sen-filters",adm_form_new_sen:"form#new-sen",adm_form_set_sen:"form#set-sen",adm_id_results_holder:"div#results-holder",adm_id_views_grid:"#results-grid-view",adm_id_views_list:"#results-list-view",adm_img_banner:"#img-banner",adm_input_new_sen_input:"input.new-sen-input",adm_input_new_sen_mileage:"input#new-sen-mileage",adm_input_new_sen_price:"input#new-sen-price",adm_input_picture_sen_uploader:"input#picture-sen-uploader",adm_input_sen_filter_search:"input#sen-filter-search",adm_input_session_usr_agn_header:"input#session-usr-agn-header",adm_input_session_usr_agn_id:"input#session-usr-agn-id",adm_input_session_usr_agn_logo1:"input#session-usr-agn-logo1",adm_input_session_usr_agn_logo2:"input#session-usr-agn-logo2",adm_input_session_usr_agn_name:"input#session-usr-agn-name",adm_input_session_usr_email:"input#session-usr-email",adm_input_session_usr_fullname:"input#session-usr-fullname",adm_input_session_usr_id:"input#session-usr-id",adm_input_session_usr_type:"input#session-usr-type",adm_input_set_sen_input:"input.set-sen-input",adm_input_set_sen_mileage:"input#set-sen-mileage",adm_input_set_sen_price:"input#set-sen-price",adm_select_new_sen_agency:"select#new-sen-agency",adm_select_new_sen_brand:"select#new-sen-brand",adm_select_new_sen_category:"select#new-sen-category",adm_select_new_sen_color:"select#new-sen-color",adm_select_new_sen_cylinders:"select#new-sen-cylinders",adm_select_new_sen_interior:"select#new-sen-interior",adm_select_new_sen_model:"select#new-sen-model",adm_select_new_sen_select:"select.new-sen-select",adm_select_new_sen_transmission:"select#new-sen-transmission",adm_select_new_sen_year:"select#new-sen-year",adm_select_sen_filter_agency:"select#sen-filter-agency",adm_select_sen_filter_brand:"select#sen-filter-brand",adm_select_sen_filter_category:"select#sen-filter-category",adm_select_sen_filter_model:"select#sen-filter-model",adm_select_set_sen_agency:"select#set-sen-agency",adm_select_set_sen_brand:"select#set-sen-brand",adm_select_set_sen_category:"select#set-sen-category",adm_select_set_sen_color:"select#set-sen-color",adm_select_set_sen_cylinders:"select#set-sen-cylinders",adm_select_set_sen_interior:"select#set-sen-interior",adm_select_set_sen_model:"select#set-sen-model",adm_select_set_sen_select:"select.set-sen-select",adm_select_set_sen_transmission:"select#set-sen-transmission",adm_select_set_sen_year:"select#set-sen-year",adm_txta_new_sen_description:"textarea#new-sen-description",adm_txta_set_sen_description:"textarea#set-sen-description"},tempsNames={adm_get_sen:"tmp_adm_get_sen",adm_get_sen_filters:"tmp_adm_get_sen_filters",adm_get_sen_filters_select_agency:"tmp_adm_get_sen_filters_select_agency",adm_get_sen_filters_select_brand:"tmp_adm_get_sen_filters_select_brand",adm_get_sen_filters_select_category:"tmp_adm_get_sen_filters_select_category",adm_get_sen_filters_select_model:"tmp_adm_get_sen_filters_select_model",adm_get_sen_head:"tmp_adm_get_sen_head",adm_get_sen_list:"tmp_adm_get_sen_list",adm_home:"tmp_adm_home",adm_new_sen_form:"tmp_adm_new_sen_form",adm_new_sen_form_select_agency:"tmp_adm_new_sen_form_select_agency",adm_new_sen_form_select_brand:"tmp_adm_new_sen_form_select_brand",adm_new_sen_form_select_category:"tmp_adm_new_sen_form_select_category",adm_new_sen_form_select_model:"tmp_adm_new_sen_form_select_model",adm_new_sen_form_select_year:"tmp_adm_new_sen_form_select_year",adm_picture_sen:"tmp_adm_picture_sen",adm_picture_sen_loader:"tmp_adm_picture_sen_loader",adm_picture_sen_pictures:"tmp_adm_picture_sen_pictures",adm_set_sen_form:"tmp_adm_set_sen_form",adm_set_sen_form_select_agency:"tmp_adm_set_sen_form_select_agency",adm_set_sen_form_select_brand:"tmp_adm_set_sen_form_select_brand",adm_set_sen_form_select_category:"tmp_adm_set_sen_form_select_category",adm_set_sen_form_select_model:"tmp_adm_set_sen_form_select_model",adm_set_sen_form_select_year:"tmp_adm_set_sen_form_select_year",adm_start_page_header:"tmp_adm_start_page_header"},urlsApi={adm_del_pic:"api/v15/del/pictures",adm_del_sen:"api/v15/del/seminuevos/",adm_get_agn:"api/v15/get/agencias",adm_get_agn_header:"api/v15/get/header/agencias",adm_get_agn_header_id:"api/v15/get/header/agencias/",adm_get_agn_id:"api/v15/get/agencias/",adm_get_agn_sen:"api/v15/get/agenciass/seminuevos",adm_get_cat:"api/v15/get/categorias",adm_get_cat_id:"api/v15/get/categorias/",adm_get_cat_sen:"api/v15/get/categoriass/seminuevos",adm_get_cat_sen_agn_id:"api/v15/get/categorias/seminuevos/agencias/",adm_get_mar:"api/v15/get/marcas",adm_get_mar_id:"api/v15/get/marcas/",adm_get_mar_sen_agn_id:"api/v15/get/marcas/seminuevos/agencias/",adm_get_mdo:"api/v15/get/modelos",adm_get_mdo_id:"api/v15/get/modelos/",adm_get_mdo_mar_id:"api/v15/get/modelos/marcas/",adm_get_mdo_sen_agn_id:"api/v15/get/modelos/seminuevos/agencias/",adm_get_mdo_sen_mar_id:"api/v15/get/modelos/seminuevos/marcas/",adm_get_pic:"api/v15/get/pictures/",adm_get_sen:"api/v15/get/seminuevos",adm_get_sen_agn_id:"api/v15/get/seminuevos/agencias/",adm_get_sen_filters:"api/v15/get/seminuevos/filters/",adm_get_sen_id:"api/v15/get/seminuevos/",adm_new_pic:"api/v15/new/pictures/",adm_new_sen:"api/v15/new/seminuevos",adm_set_sen:"api/v15/set/seminuevos/",adm_set_thm:"api/v15/set/thumbnail",adm_ssn_get_admin_access:"api/v15/session/get/admin/access"};
function validateEmail(e){return!0}function resetAlert(){alertify.set({labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok"})}function __sizeCheck(e){var n=e.width(),a=$(".utility-bar");_cText="desktop screens > 1200px",2e3==n&&(_cText="desktop computer "+n+"px",$(".nav-1 .logo").css("margin-left","55px"),$(a).css("margin-top","50px")),2e3>n&&(_cText="desktop computer "+n+"px",$(".nav-1 .logo").css("margin-left","55px"),$(a).css("margin-top","50px")),1680==n&&(_cText="desktop computer "+n+"px",$(".nav-1 .logo").css("margin-left","55px"),$(a).css("margin-top","50px")),1680>n&&(_cText="desktop computer "+n+"px",$(".nav-1 .logo").css("margin-left","55px"),$(a).css("margin-top","70px")),1280>n&&(_cText="desktop computer "+n+"px",$(".nav-1 .logo").css("margin-left","55px")),1024>n&&(_cText="ipad landscape "+n+"px",$(".nav-1 .logo").css("margin-left","55px")),768>n&&(_cText="ipad portrait "+n+"px",$("body").css("padding","0"),$("#img-banner").css({"margin-left":"0","margin-right":"0"}),$(".dealer-prosite").css("top","0"),$(".mobile-section").css("padding-top","0"),$(".nav-1 .logo").css("margin-left","55px"),$(".vin_agn_name").css("display","block")),480===n&&($("body").css("padding","0"),$("#img-banner").css({"margin-left":"0","margin-right":"0"}),$(".dealer-prosite").css("top","0"),$(".mobile-section").css("padding-top","0"),$(".nav-1 .logo").css("margin-left","55px"),$(".vin_agn_name").css("display","none")),480>n&&(_cText="iphone landscape "+n+"px",$("body").css("padding","0"),$("#img-banner").css({"margin-left":"0","margin-right":"0"}),$(".dealer-prosite").css("top","0"),$(".mobile-section").css("padding-top","0"),$(".nav-1 .logo").css("margin-left","55px"),$(".vin_agn_name").css("display","none"),$(a).css("margin-top","70px")),320>n&&(_cText="iphone portrait "+n+"px",$("body").css("padding","0"),$(".vin_agn_name").css("display","none")),240>n&&(_cText="so small phones "+n+"px",$(".vin_agn_name").css("display","none")),$(domEl.adm_div_recurrent).on("click",".agencia",function(){$(".closeToggle").slideUp()}),$(domEl.adm_div_recurrent).on("click",".closeToggle",function(){$("#options").slideUp()})}function scrollToTop(){var e=($(window).width(),!1),n=$("#back-to-top");n.on("click",function(e){$("body,html").animate({scrollTop:"0"},750,"easeOutExpo"),e.preventDefault()}),$(window).scroll(function(){e=!0}),setInterval(function(){e&&(e=!1,$(window).scrollTop()>200?n.fadeIn():n.fadeOut())},250)}var GLOBALLastUrlPro,GLOBALUsrFullname,GLOBALUsrId,GLOBALUsrType,GLOBALUsrEmail,GLOBALUsrAgnId,GLOBALUsrAgnName,GLOBALUsrAgnLogo1,GLOBALUsrAgnLogo2,GLOBALUsrAgnHeader,GLOBALUsrFullname=$(domEl.adm_input_session_usr_fullname).val(),GLOBALUsrId=+$(domEl.adm_input_session_usr_id).val(),GLOBALUsrType=+$(domEl.adm_input_session_usr_type).val(),GLOBALUsrEmail=$(domEl.adm_input_session_usr_email).val(),GLOBALUsrAgnId=+$(domEl.adm_input_session_usr_agn_id).val(),GLOBALUsrAgnName=$(domEl.adm_input_session_usr_agn_name).val(),GLOBALUsrAgnLogo1=$(domEl.adm_input_session_usr_agn_logo1).val(),GLOBALUsrAgnLogo2=$(domEl.adm_input_session_usr_agn_logo2).val(),GLOBALUsrAgnHeader=$(domEl.adm_input_session_usr_agn_header).val(),bannerMethods={bannerLoad:function(){var e,n,a,s,l,t,i;if(e=GLOBALUsrAgnHeader,""===e){bannerData=CAMAD.getInternalJSON(urlsApi.adm_get_agn_header),n=CAMAD.filterArrayObjByKey(bannerData.camadpa,"agn_header","",0),l=$(domEl.adm_img_banner).attr("style"),l=l,currentImg="",""!==l&&(elements=l,currentImg=elements),a=bannerData.camadpa[0].agn_header,s=a;do s=n[Math.floor(Math.random()*n.length)];while(s===currentImg)}else s=e;i="../../resources/public/img/agencies/headers/seminuevos",t=i+"/"+s,$(domEl.adm_img_banner).attr("style","background-image: url("+t+"); top: 5px; margin-left: -50px; margin-right: -50px;")}},openMenuMethods={clickOpenMenu:function(){$("nav").toggleClass("open-menu")}},closeMenuMethods={clickClose:function(){$("nav").removeClass("open-menu")}},viewsMethods={switchActiveOption:function(){$(domEl.adm_id_views_list).hasClass("active")?($(domEl.adm_id_views_list).removeClass("active"),$(domEl.adm_id_views_grid).addClass("active")):($(domEl.adm_id_views_grid).removeClass("active"),$(domEl.adm_id_views_list).addClass("active"))},results:function(){},gridView:function(){setTimeout(function(){$(domEl.adm_id_results_holder).removeClass("results-list-view"),$(domEl.adm_id_results_holder).addClass("results-grid-view"),$(".results-grid-view .result-item-in.result-item-box").css("display","none"),viewsMethods.results(),$(".waiting").hide()},800)},gridViewStop:function(){clearTimeout(viewsMethods.gridView())},listView:function(){setTimeout(function(){$(domEl.adm_id_results_holder).removeClass("results-grid-view"),$(domEl.adm_id_results_holder).addClass("results-list-view"),$(domEl.adm_id_results_holder).find(domEl.adm_class_result_item).css("height","auto"),$(".results-list-view .result-item-in.result-item-box").css("display","block"),$(".waiting").hide()},800)},listViewStop:function(){clearTimeout(viewsMethods.listView())}},searchFormMethod={searchFrom:function(){$(".navbar .search-form"),$(".bootstrap-select .dropdown-menu")}},newSenMethod={addSen:function(){var e;return e=$(domEl.adm_form_new_sen).serializeFormJSON(),e.usr_id=GLOBALUsrId,CAMAD.postalService(urlsApi.adm_new_sen,e)},fillingControl:function(){var e,n,a;e=["sen_description","sen_agency","sen_category","sen_brand","sen_model","sen_year","sen_price","sen_cylinders","sen_transmission","sen_color","sen_interior","sen_mileage"],n=$(domEl.adm_form_new_sen).serializeFormJSON(),a=CAMAD.validFormFull(n,e),$(domEl.adm_btn_new_sen_save).attr("disabled",!a),isEmpty=CAMAD.validFormEmpty(n,e),$(domEl.adm_btn_new_sen_clean).attr("disabled",isEmpty)},resetSen:function(){var e,n,a,s,l,t,i,o;switch(CAMAD.loadTemplate(tempsNames.adm_new_sen_form,domEl.adm_div_recurrent),s=GLOBALUsrType){case 0:e=CAMAD.getInternalJSON(urlsApi.adm_get_agn),CAMAD.loadTemplate(tempsNames.adm_new_sen_form_select_agency,domEl.adm_div_select_new_sen_agency,e);break;case 1:$(domEl.adm_div_new_sen_agency_container).remove(),l=GLOBALUsrAgnId,CAMAD.appendOne(domEl.adm_form_new_sen,"input",{type:"hidden",value:l,name:"sen_agency"},"",!1)}n=CAMAD.getInternalJSON(urlsApi.adm_get_cat),CAMAD.loadTemplate(tempsNames.adm_new_sen_form_select_category,domEl.adm_div_select_new_sen_category,n),a=CAMAD.getInternalJSON(urlsApi.adm_get_mar),CAMAD.loadTemplate(tempsNames.adm_new_sen_form_select_brand,domEl.adm_div_select_new_sen_brand,a),CAMAD.loadTemplate(tempsNames.adm_new_sen_form_select_model,domEl.adm_div_select_new_sen_model,{}),yearData={},yearData.camadpa=[],t=new Date,i=t.getFullYear(),o=10;for(var r=i-o,c=0;i+1>=r;r++,c++)yearData.camadpa[c]={},yearData.camadpa[c].year=r;CAMAD.loadTemplate(tempsNames.adm_new_sen_form_select_year,domEl.adm_div_select_new_sen_year,yearData),$(".selectpicker").selectpicker(),$(domEl.adm_btn_new_sen_save).attr("disabled",!0),$(domEl.adm_btn_new_sen_clean).attr("disabled",!0)},keyupDescription:function(e){newSenMethod.fillingControl()},changeBrand:function(e){var n,a;n=+CAMAD.getValue($(this)),a=n?CAMAD.getInternalJSON(urlsApi.adm_get_mdo_mar_id+n):{},CAMAD.loadTemplate(tempsNames.adm_new_sen_form_select_model,domEl.adm_div_select_new_sen_model,a),$(".selectpicker").selectpicker()},changeSelect:function(e){newSenMethod.fillingControl()},keyupInput:function(e){newSenMethod.fillingControl()},clickSave:function(e){resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),alertify.confirm("¿Seguro que desea guardar?",function(e){if(e){var n;n=newSenMethod.addSen(),n.success(function(e){var n;n=+e.camadpa.id_inserted,alertify.success("Seminuevo agregado.<br /> Agrege imágenes en la parte inferior al formulario"),Finch.navigate("/set/seminuevos/"+n)}),n.error(function(e){newSenMethod.resetSen(),newSenMethod.fillingControl(),alertify.error("No se ha podido agregar el seminuevo <br /> Inténtelo más tarde.")})}})},clickClean:function(e){newSenMethod.resetSen(),newSenMethod.fillingControl()},clickSeminuevosList:function(e){Finch.navigate("/seminuevos")}},setSenMethod={updateSen:function(e){var n;return n=$(domEl.adm_form_set_sen).serializeFormJSON(),CAMAD.postalService(urlsApi.adm_set_sen+e,n)},fillingControl:function(){var e,n,a;e=["sen_description","sen_agency","sen_category","sen_brand","sen_model","sen_year","sen_price","sen_cylinders","sen_transmission","sen_color","sen_interior","sen_mileage"],n=$(domEl.adm_form_set_sen).serializeFormJSON(),a=CAMAD.validFormFull(n,e),$(domEl.adm_btn_set_sen_save).attr("disabled",!a),isEmpty=CAMAD.validFormEmpty(n,e),$(domEl.adm_btn_set_sen_clean).attr("disabled",isEmpty)},resetSen:function(){CAMAD.resetForm(domEl.adm_form_set_sen)},cleanSen:function(e){var n,a,s,l,t,i,o,r,c,d;switch(n=CAMAD.getInternalJSON(urlsApi.adm_get_sen_id+e),CAMAD.loadTemplate(tempsNames.adm_set_sen_form,domEl.adm_div_set_sen_data,n),CAMAD.setValue(domEl.adm__set_sen_element,""),i=GLOBALUsrType){case 0:o=n.camadpa[0].agencia.id,a=CAMAD.getInternalJSON(urlsApi.adm_get_agn),CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_agency,domEl.adm_div_select_set_sen_agency,a);break;case 1:o=GLOBALUsrAgnId,$(domEl.adm_div_set_sen_agency_container).remove(),CAMAD.appendOne(domEl.adm_form_set_sen,"input",{type:"hidden",value:o,name:"sen_agency"},"",!1)}s=CAMAD.getInternalJSON(urlsApi.adm_get_cat),CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_category,domEl.adm_div_select_set_sen_category,s),l=CAMAD.getInternalJSON(urlsApi.adm_get_mar),CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_brand,domEl.adm_div_select_set_sen_brand,l),$(domEl.adm_select_sen_filter_brand+" option").data("agn-id",o),t={},CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_model,domEl.adm_div_select_set_sen_model,t),yearData={},yearData.camadpa=[],r=new Date,c=r.getFullYear(),d=10;for(var m=c-d,u=0;c+1>=m;m++,u++)yearData.camadpa[u]={},yearData.camadpa[u].year=m;CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_year,domEl.adm_div_select_set_sen_year,yearData),$(".selectpicker").selectpicker()},keyupDescription:function(e){setSenMethod.fillingControl()},refreshSen:function(e){var n,a,s,l,t,i,o,r,c,d,m,u,p,v,g,f,h,b,y,A;switch(e=+e,o=GLOBALUsrType){case 0:n=CAMAD.getInternalJSON(urlsApi.adm_get_sen_id+e),n.camadpa.length?(r=n.camadpa[0].agencia.id,CAMAD.loadTemplate(tempsNames.adm_set_sen_form,domEl.adm_div_set_sen_data,n),s=CAMAD.getInternalJSON(urlsApi.adm_get_agn),CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_agency,domEl.adm_div_select_set_sen_agency,s),CAMAD.setValue(domEl.adm_select_set_sen_agency,r)):Finch.navigate("/seminuevos");break;case 1:if(r=GLOBALUsrAgnId,a=CAMAD.getInternalJSON(urlsApi.adm_get_sen_agn_id+r),a.camadpa.length){A=CAMAD.filterArrayObjByKey(a.camadpa,"id",0,0);for(var w=0;w<A.length;w++)A[w]=+A[w];senIdxCurrent=_.indexOf(A,e),senIdxCurrent>=0?(n={camadpa:[a.camadpa[senIdxCurrent]]},CAMAD.loadTemplate(tempsNames.adm_set_sen_form,domEl.adm_div_set_sen_data,n),$(domEl.adm_div_set_sen_agency_container).remove(),CAMAD.appendOne(domEl.adm_form_set_sen,"input",{type:"hidden",value:r,name:"sen_agency"},"",!1)):Finch.navigate("/seminuevos")}else Finch.navigate("/seminuevos")}g=n.camadpa[0].transmision,CAMAD.setValue(domEl.adm_select_set_sen_transmission,g),f=n.camadpa[0].color,CAMAD.setValue(domEl.adm_select_set_sen_color,f),h=n.camadpa[0].interior,CAMAD.setValue(domEl.adm_select_set_sen_interior,h),l=CAMAD.getInternalJSON(urlsApi.adm_get_cat),CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_category,domEl.adm_div_select_set_sen_category,l),c=n.camadpa[0].categoria.id,CAMAD.setValue(domEl.adm_select_set_sen_category,c),t=CAMAD.getInternalJSON(urlsApi.adm_get_mar),CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_brand,domEl.adm_div_select_set_sen_brand,t),d=n.camadpa[0].marca.id,CAMAD.setValue(domEl.adm_select_set_sen_brand,d),$(domEl.adm_select_sen_filter_brand+" option").data("agn-id",r),i=CAMAD.getInternalJSON(urlsApi.adm_get_mdo_mar_id+d),CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_model,domEl.adm_div_select_set_sen_model,i),m=n.camadpa[0].modelo.id,CAMAD.setValue(domEl.adm_select_set_sen_model,m),yearData={},yearData.camadpa=[],u=new Date,p=u.getFullYear(),v=10;for(var M=p-v,w=0;p+1>=M;M++,w++)yearData.camadpa[w]={},yearData.camadpa[w].year=M;CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_year,domEl.adm_div_select_set_sen_year,yearData),b=n.camadpa[0].anio,CAMAD.setValue(domEl.adm_select_set_sen_year,b),y=n.camadpa[0].cilindros,CAMAD.setValue(domEl.adm_select_set_sen_cylinders,y),$(".selectpicker").selectpicker()},changeSelect:function(e){setSenMethod.fillingControl()},changeBrand:function(e){var n,a,s,l;l=$(this).find(":selected"),a=+CAMAD.getValue(l),n=+l.data("agn-id"),s=a?CAMAD.getInternalJSON(urlsApi.adm_get_mdo_mar_id+a):{},CAMAD.loadTemplate(tempsNames.adm_set_sen_form_select_model,domEl.adm_div_select_set_sen_model,s),$(".selectpicker").selectpicker(),getSenMethod.fillingControl(),getSenMethod.sortingFilters()},keyupInput:function(e){setSenMethod.fillingControl()},clickSave:function(e){var n;n=+$(this).data("sen-id"),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),alertify.confirm("¿Seguro que desea modificar?",function(e){if(e){var a;a=setSenMethod.updateSen(n),a.success(function(e){setSenMethod.refreshSen(n),setSenMethod.fillingControl(),alertify.success("Seminuevo modificado.")}),a.error(function(e){alertify.error("No se ha podido modificar el seminuevo <br /> Inténtelo más tarde.")})}})},clickClean:function(e){var n;n=+$(this).data("sen-id"),setSenMethod.cleanSen(n),setSenMethod.fillingControl()},clickRestore:function(e){var n;n=+$(this).data("sen-id"),setSenMethod.refreshSen(n),setSenMethod.fillingControl(n)},clickSeminuevosList:function(e){$("body,html").animate({scrollTop:"0"},999,"easeOutExpo"),Finch.navigate("/seminuevos")}};getSenMethod={refreshFilters:function(){var e,n,a,s,l,t;switch(CAMAD.loadTemplate(tempsNames.adm_get_sen_filters,domEl.adm_div_get_sen_filters),n=GLOBALUsrType){case 0:e=0,a=CAMAD.getInternalJSON(urlsApi.adm_get_agn_sen),CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_agency,domEl.adm_div_select_sen_filter_agency,a),s={},l={};break;case 1:e=GLOBALUsrAgnId,$(domEl.adm_div_sen_filter_agency_container).remove(),s=CAMAD.getInternalJSON(urlsApi.adm_get_cat_sen_agn_id+e),l=CAMAD.getInternalJSON(urlsApi.adm_get_mar_sen_agn_id+e)}CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_category,domEl.adm_div_select_sen_filter_category,s),CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_brand,domEl.adm_div_select_sen_filter_brand,l),$(domEl.adm_select_sen_filter_brand+" option").data("agn-id",e),t={},CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_model,domEl.adm_div_select_sen_filter_model,t),$(domEl.adm_btn_sen_filters_clean).attr("disabled",!0)},sortingFilters:function(){var e,n,a,s,l,t,i,o,r,c;a=CAMAD.getValue($(domEl.adm__sen_sorter).find(":selected")),s=CAMAD.getValue($(domEl.adm__sen_sort).filter(":checked")),r=CAMAD.getValue(domEl.adm_input_sen_filter_search),r=CAMAD.advancedTrim(r),r=CAMAD.replaceAll(r,"/","**47**"),l=GLOBALUsrType?GLOBALUsrAgnId:CAMAD.getValue(domEl.adm_select_sen_filter_agency),l=""!==l?+l:0,t=CAMAD.getValue(domEl.adm_select_sen_filter_category),t=""!==t?+t:0,i=CAMAD.getValue(domEl.adm_select_sen_filter_brand),i=""!==i?+i:0,o=CAMAD.getValue(domEl.adm_select_sen_filter_model),o=""!==o?+o:0,n=urlsApi.adm_get_sen_filters+a+"/"+s+"/"+l+"/"+t+"/"+i+"/"+o,n+=""!==r?"/"+r:"",n!==GLOBALLastUrlPro&&(e=CAMAD.getInternalJSON(n),CAMAD.loadTemplate(tempsNames.adm_get_sen_list,domEl.adm_div_get_sen_list,e),c=e.camadpa.length,CAMAD.setHTML(domEl.adm__sen_results,c+" Seminuevos"),$(domEl.adm_id_results_holder).removeClass("results-list-view","results-grid-view"),currentClass=$(domEl.adm_id_views_list).hasClass("active")?"results-list-view":"results-grid-view",$(domEl.adm_id_results_holder).addClass(currentClass),$(domEl.adm_id_results_holder).hasClass("results-list-view")?getSenMethod.showListView():getSenMethod.showGridView(),$(domEl.adm__sen_item).css("display","block"),$("ul.carets li, ul.inline li, .filter-options-list li").prepend('<i class="fa fa-caret-right"></i> '),domElementsFormatMethods.htmlCurrency(domEl.adm__currency_h),domElementsFormatMethods.htmlPercentageDecimal(domEl.adm__percentage_d),GLOBALLastUrlSen=n)},deleteSen:function(e){return CAMAD.postalService(urlsApi.adm_del_sen+e,{})},fillingControl:function(){var e,n;e=["sen_search","sen_agency","sen_category","sen_brand","sen_model","sen_sorter"],n=$(domEl.adm_form_get_sen_filters).serializeFormJSON(),isEmpty=CAMAD.validFormEmpty(n,e),$(domEl.adm_btn_sen_filters_clean).attr("disabled",isEmpty)},changeAgency:function(e){var n,a,s,l;n=+CAMAD.getValue($(this)),n?(a=CAMAD.getInternalJSON(urlsApi.adm_get_cat_sen_agn_id+n),s=CAMAD.getInternalJSON(urlsApi.adm_get_mar_sen_agn_id+n),l={}):(a={},s={},l={}),CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_category,domEl.adm_div_select_sen_filter_category,a),CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_model,domEl.adm_div_select_sen_filter_model,l),CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_brand,domEl.adm_div_select_sen_filter_brand,s),$(domEl.adm_select_sen_filter_brand+" option").data("agn-id",n),$(".selectpicker").selectpicker(),getSenMethod.fillingControl(),getSenMethod.sortingFilters()},changeCategory:function(e){getSenMethod.fillingControl(),getSenMethod.sortingFilters()},changeBrand:function(e){var n,a,s,l;l=$(this).find(":selected"),a=+CAMAD.getValue(l),n=+l.data("agn-id"),s=a?CAMAD.getInternalJSON(urlsApi.adm_get_mdo_sen_mar_id+a+"/"+n):{},CAMAD.loadTemplate(tempsNames.adm_get_sen_filters_select_model,domEl.adm_div_select_sen_filter_model,s),getSenMethod.fillingControl(),getSenMethod.sortingFilters()},changeModel:function(e){getSenMethod.fillingControl(),getSenMethod.sortingFilters()},keyupSearch:function(e){getSenMethod.fillingControl(),getSenMethod.sortingFilters()},blurSearch:function(e){var n,a;n=CAMAD.getValue($(this)),n=$.trim(n),a=n.split(" "),a=_.without(a,""),n="";for(var s=0;s<a.length;s++)n+=s?" "+a[s]:a[s];CAMAD.setValue($(this),n)},changeSorter:function(e){getSenMethod.sortingFilters()},changeSort:function(e){getSenMethod.sortingFilters()},clickCleanFilters:function(e){getSenMethod.refreshFilters(),getSenMethod.fillingControl(),GLOBALLastUrlSen="",getSenMethod.sortingFilters()},clickSenActionSet:function(e){var n;n=+$(this).data("sen-id"),Finch.navigate("/set/seminuevos/"+n)},clickSenActionDelete:function(e){var n;n=+$(this).data("sen-id"),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),alertify.confirm("¿Seguro que desea eliminar este seminuevo?",function(e){if(e){var a;a=getSenMethod.deleteSen(n),a.success(function(e){GLOBALLastUrlSen="",getSenMethod.sortingFilters(),alertify.success("Se ha eliminado este seminuevo")}),a.error(function(e){alertify.error("No se ha podido eliminar el seminuevo <br /> Inténtelo más tarde.")})}})},clickShowDetails:function(e){var n,a,s,l;n=$(".view-details-model").parents(".result-item").children(".result-item-in"),a=$(this).parents(".result-item").children(".result-item-in"),s=a.css("display"),l="none"===s?"block":"none",n.css("display","none"),a.css("display",l)},showGridView:function(){return $(".waiting").fadeIn(),viewsMethods.gridView(),viewsMethods.gridViewStop(),!1},showListView:function(){return $(".waiting").fadeIn(),viewsMethods.listView(),viewsMethods.listViewStop(),!1},clickGridView:function(e){$(this).hasClass("active")||(getSenMethod.showGridView(),viewsMethods.switchActiveOption())},clickListView:function(e){$(this).hasClass("active")||(getSenMethod.showListView(),viewsMethods.switchActiveOption())},clickSearch:function(e){return $(".search-form").slideToggle(),!1},clickSearchAdvanced:function(e){return $(this).hasClass("advanced")?($(this).removeClass("advanced"),$(".advanced-search-row").slideDown(),CAMAD.setHTML($(this),'Búsqueda Básica <i class="fa fa-chevron-up"></i>')):($(this).addClass("advanced"),$(".advanced-search-row").slideUp(),CAMAD.setHTML($(this),'Búsqueda Avanzada <i class="fa fa-chevron-down"></i>')),!1},clickCloseSearch:function(e){return $(".search-form").slideToggle(),!1}},pictureSenMethod={pictureLoader:function(e){CAMAD.loadTemplate(tempsNames.adm_picture_sen_loader,domEl.adm_div_picture_sen_loader),$(domEl.adm_input_picture_sen_uploader).fileupload({url:"cdn/index.php?sen_id="+e,dataType:"json",done:pictureSenMethod.done(e),progressall:pictureSenMethod.progressall()})},done:function(e){return function(n,a){var s,l;resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),l=a.result.files,s=CAMAD.postalService(urlsApi.adm_new_pic+e,l),s.success(function(n){pictureSenMethod.refreshPictures(e),alertify.success("Imágen agregada.")})}},progressall:function(){return function(e,n){var a=parseInt(n.loaded/n.total*100,10);$("#progress .progress-bar").css("width",a+"%","background-color","#5cb85c")}},refreshPictures:function(e){var n;n=CAMAD.getInternalJSON(urlsApi.adm_get_pic+e),CAMAD.loadTemplate(tempsNames.adm_picture_sen_pictures,domEl.adm_div_picture_sen_pictures,n)},clickActionThumb:function(e){var n,a;n=+$(this).data("sen-id"),a=$(this).data(),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),alertify.confirm("¿Seguro que desea elegir esta imágen como imágen previa?",function(e){if(e){var s;s=CAMAD.postalService(urlsApi.adm_set_thm,a),s.success(function(e){pictureSenMethod.refreshPictures(n),alertify.success("Nueva imágen previa seleccionada.")}),s.error(function(e){alertify.error("No se ha podido elegir la imagen como imágen previa <br /> Inténtelo más tarde.")})}})},clickActionDelete:function(e){var n,a;n=+$(this).data("sen-id"),a=$(this).data(),resetAlert(),alertify.set({labels:{ok:"Aceptar",cancel:"Cancelar"}}),alertify.confirm("¿Seguro que desea eliminar esta imágen?",function(e){if(e){var s;s=CAMAD.postalService(urlsApi.adm_del_pic,a),s.success(function(e){pictureSenMethod.refreshPictures(n),alertify.success("Imágen eliminada.")}),s.error(function(e){alertify.error("No se ha podido eliminar la imagen <br /> Inténtelo más tarde.")})}})},clickSeminuevosList:function(e){Finch.navigate("/seminuevos")}};var domElementsFormatMethods={numberReal:function(e){var n,a;return n=+e,n=n.toFixed(2),a=n.split("."),1===a.length?a[1]="00":a=a,n=a.join("."),n=+n,n=n.toFixed(2)},valueNumberReal:function(e){$(e).each(function(e){var n,a;n=CAMAD.getValue($(this)),a=domElementsFormatMethods.numberReal(n),CAMAD.setValue($(this),a)})},htmlNumberReal:function(e){$(e).each(function(e){var n,a;n=CAMAD.getHTML($(this)),a=domElementsFormatMethods.numberReal(n),CAMAD.setHTML($(this),a)})},currency:function(e){var n;return n=e,n=CAMAD.currencyFormat(n)},valueCurrency:function(e){$(e).each(function(e){var n,a;n=CAMAD.getValue($(this)),a=domElementsFormatMethods.currency(n),CAMAD.setValue($(this),a)})},htmlCurrency:function(e){$(e).each(function(e){var n,a;n=CAMAD.getHTML($(this)),a=domElementsFormatMethods.currency(n),CAMAD.setHTML($(this),a)})},percentageDecimal:function(e){var n;return n=+e,n*=100,n=n.toFixed(2),n+="%"},valuePercentageDecimal:function(e){$(e).each(function(e){var n,a;n=CAMAD.getValue($(this)),a=domElementsFormatMethods.percentageDecimal(n),CAMAD.setValue($(this),a)})},htmlPercentageDecimal:function(e){$(e).each(function(e){var n,a;n=CAMAD.getHTML($(this)),a=domElementsFormatMethods.percentageDecimal(n),CAMAD.setHTML($(this),a)})},dateRoman:function(e,n,a){var s,l;return a=a===!0||"true"===a||1===a||"1"===a?!0:!1,s=CAMAD.momentToRoman(e,n),l=s.split(","),s=l[1],s=$.trim(s),l=s.split(" "),a||l.splice(2,1),s=l.join(" de ")},valueDateRoman:function(e,n){$(e).each(function(e){var a,s;a=CAMAD.getValue($(this)),s=domElementsFormatMethods.dateRoman(a,"es",n),CAMAD.setValue($(this),s)})},htmlDateRoman:function(e,n){$(e).each(function(e){var a,s;a=CAMAD.getHTML($(this)),s=domElementsFormatMethods.dateRoman(a,"es",n),CAMAD.setHTML($(this),s)})},dateHuman:function(e,n){var a;return a=CAMAD.momentToHuman(e,n)},valueDateHuman:function(e){$(e).each(function(e){var n,a;n=CAMAD.getValue($(this)),a=domElementsFormatMethods.dateHuman(n,"es"),CAMAD.setValue($(this),a)})},htmlDateHuman:function(e){$(e).each(function(e){var n,a;n=CAMAD.getHTML($(this)),a=domElementsFormatMethods.dateHuman(n,"es"),CAMAD.setHTML($(this),a)})},ucWords:function(e){$(e).each(function(e){var n,a;n=CAMAD.getHTML($(this)),a=CAMAD.ucWords(n),CAMAD.setHTML($(this),a)})}},inputValMetdods={isIntegerKP:function(e){var n,a,s,l,t,i;n=e.keyCode||e.which,s=String.fromCharCode(n),a="0123456789",l=[8,9,37,38,39,40,46],t=!1;for(i in l)n==l[i]&&(t=!0);return-1!=a.indexOf(s)||t?void 0:!1},isDecimalKP:function(e){var n,a;return a=$(this).val(),n=e.keyCode?e.keyCode:e.which,8==n?!0:n>47&&58>n?""==a?!0:(regexp=/.[0-9]{15}$/,!regexp.test(a)):46==n?""==a?!1:(regexp=/^[0-9]+$/,regexp.test(a)):!1},roundDecimalBlur:function(e){var n;n=$(this).val(),n=CAMAD.roundNDecimalFormat(n,2),$(this).val(n)}};
var CAMAD={};CAMAD=function(){function e(e,n){return moment.lang(n),moment(e).format("dddd[,] LL")}function n(e,n){return moment.lang(n),moment(e,"YYYY-MM-DD hh:mm:ss").fromNow(!0)}function a(e,n){var a=Handlebars.templates[e];return n?a(n):a}function s(e,n,s){$(n).html(a(e,s))}function t(e){return $(e).val()}function l(e,n){$(e).val(n)}function i(e){return $(e).length>0?!0:!1}function o(e){var n,a;n=$(e).val(),a=$.trim(n),$(e).val(a)}function r(e){return $(e).html()}function c(e,n){$(e).html(n)}function d(e){var n,a;n=$(e).val(),a=hex_sha512(n),$(e).val(a)}function m(e,n,a,s,t){var l;l="<"+n;for(var i in a)l+=a.hasOwnProperty(i)?" "+i+"='"+a[i]+"'":"";t?(l+=">",l+=s,l+="</"+n+">"):(l+=" />",l+=s),$(e).append(l)}function u(e,n){for(var a=0;a<n.length;a++)m(e,n[a][0],n[a][1],n[a][2],n[a][3])}function p(e,n,a,s,t){var l;l="<"+n;for(var i in a)l+=a.hasOwnProperty(i)?" "+i+"='"+a[i]+"'":"";t?(l+=">",l+=s,l+="</"+n+">"):(l+=" />",l+=s),$(e).prepend(l)}function v(e,n){for(var a=0;a<n.length;a++)p(e,n[a][0],n[a][1],n[a][2],n[a][3])}function g(e){var n,a,s,t,l,i,o,r,c,d,m,u,_,p,v,g,f;$(e).each(function(){n=$(this),a=$(n).val(),a=$.trim(a),s=a.length,t=n.css("font-size"),t=T(t,"px",""),t=+t,l=n.css("font-family"),i=n.css("width"),i=T(i,"px",""),i=+i,height=n.css("height"),o=n.css("padding-top"),o=T(o,"px",""),o=+o,r=n.css("padding-bottom"),r=T(r,"px",""),r=+o,c=n.css("line-height"),c=T(c,"px",""),c=+c,d=n.css("padding-left"),d=T(d,"px",""),d=+d,m=n.css("padding-right"),m=T(m,"px",""),m=+m,u=document.createElement("canvas"),_=u.getContext("2d"),_.font=t+"px"+l,p=_.measureText(a).width,p=Math.ceil(p),v=i-d-m,f=height,s&&p>v&&(g=p/v,g=Math.ceil(g),f=o+g*t+(g-1)*c+r,f+="px"),n.css("word-break","break-word"),n.css("height",f),n.css("vertical-align","middle")})}function f(e,n,a){var s,t,l,i,o,r;switch(s=new Date,t=new Date(s),t.setDate(s.getDate()+n),l=t.getFullYear(),i=+t.getMonth(),i+=1,o=t.getDate(),r=l+"-"+i+"-"+(+o+1),$(e).datetimepicker({pickTime:!1}),a){case 0:$(e).data("DateTimePicker").setDate(r);break;case 1:$(e).data("DateTimePicker").setMinDate(t),$(e).data("DateTimePicker").setDate(r);break;case 2:$(e).data("DateTimePicker").setMinDate(t)}}function h(e,n){var a;for(var s in e)e[s]=$.trim(e[s]);return a=_.size(_.compact(_.pick(e,n))),a===n.length?!0:!1}function b(e,n){var a;for(var s in e)e[s]=$.trim(e[s]);return a=_.size(_.compact(_.pick(e,n))),a?!1:!0}function y(e){$(e).each(function(){this.reset()})}function A(e,n){return $.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",data:JSON.stringify(n)})}function w(e){var n;return n=function(){var n=null;return $.ajax({async:!1,global:!1,url:e,dataType:"json"}).done(function(e){n=e}),n}()}function M(e,n){return"object"==typeof e?e.hasOwnProperty(n):!1}function E(e,n,a,s){return _.filter(_.pluck(e,n),function(e){return s?e===a:e!==a})}function x(e,n){return _.reduce(_.pluck(e,n),function(e,n){return+e+ +n})}function C(e,n){var a,s;a=[],s=_.pairs(n);for(var t=0;t<e.length;t++)for(a[t]={},j=0;j<s.length;j++)a[t][s[j][0]]=e[t][s[j][1]];return a}function k(e,n){var a,s;do a=e.length,e=_.without(e,_.findWhere(e,n)),s=e.length;while(a!==s);return e}function D(e,n){pairs=_.pairs(n),withoutArrayObj=[];for(var a=0;a<pairs.length;a++)withoutArrayObj[a]=new Object,withoutArrayObj[a][pairs[a][0]]=pairs[a][1];for(a=0;a<withoutArrayObj.length;a++)e=k(e,withoutArrayObj[a]);return e}function S(e){var n;return n=accounting.formatMoney(e)}function L(e,n){var a,s,t,l,i,o;if(o=NaN,!isNaN(e)){if(e=""+e,a=e.split("."),s=a[0],t="0",2===a.length)for(t=a[1],i=Math.pow(10,t.length-n),l=+t/i,t=Math.ceil(l),t=""+t,idx=0;idx<n-t.length;idx++)t="0"+t;o=s+"."+t,o=+o,o=o.toFixed(n)}return o}function T(e,n,a){return e=""+e,expReg=new RegExp(n,"g"),e.replace(expReg,a)}function O(e){var n,a,s,t;for(n=e.split(" "),s=n.length,a="",t=0;s>t;t++)t!=s-1?a=a+I(n[t])+" ":a+=I(n[t]);return a}function I(e){return e.substr(0,1).toUpperCase()+e.substr(1,e.length).toLowerCase()}function N(e){var n,a;return n=$.trim(e),a=n.split(" "),a=_.without(a,""),n=a.join(" "),n=$.trim(n)}function F(e,n,a,s){"use strict";$(e).fileupload({url:a,dataType:"json",done:function(e,n){var a,t;t=n.result.files,a=A(s,t),a.success(function(e){$.each(t,function(e,n){$("<p/>").text(n.name).appendTo("#files")})})},progressall:function(e,a){var s=parseInt(a.loaded/a.total*100,10);$(n).css("width",s+"%","background-color","#5cb85c")}})}function V(e){for(var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",a=4,s="",t=0;a>t;t++){var l=Math.floor(Math.random()*n.length);s+=n.substring(l,l+1)}$(e).val(s)}return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"ene._feb._mar_abr._may_jun_jul._ago_sep._oct._nov._dic.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"dom._lun._mar._mier._juev._vie._sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Mañanaalas]LT",nextWeek:"dddd[a]LT",lastDay:"[Ayera]LT",lastWeek:"dddd[hasta]LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d dias",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){returnnumber+(1===e?"er":"a")},week:{dow:1,doy:6}}),{momentToRoman:e,momentToHuman:n,getTemplate:a,loadTemplate:s,getValue:t,setValue:l,existInDOM:i,trimValue:o,getHTML:r,setHTML:c,cryptElement:d,appendOne:m,appendMulti:u,prependOne:p,prependMulti:v,resizeInput:g,setDateTPCalendar:f,validFormFull:h,validFormEmpty:b,resetForm:y,postalService:A,getInternalJSON:w,hasOwnPropertyOptimized:M,filterArrayObjByKey:E,sumArrayObjByKey:x,renameArrayObjKeys:C,withoutArrayObjAND:k,withoutArrayObjOR:D,currencyFormat:S,roundNDecimalFormat:L,replaceAll:T,ucWords:O,ucFirst:I,advancedTrim:N,picturesLoader:F,randomString:V}}();
Finch.route("/",{setup:function(e){},load:function(e){CAMAD.loadTemplate(tempsNames.adm_home,domEl.adm_div_recurrent),CAMAD.loadTemplate(tempsNames.adm_start_page_header,domEl.adm_div_recurrent_start_page_header),bannerMethods.bannerLoad(),scrollToTop(),__sizeCheck($(window))},unload:function(e){CAMAD.setHTML(domEl.adm_div_recurrent,"")}}),Finch.route("/seminuevos",{setup:function(e){ga("send","pageview","/seminuevos"),GLOBALLastUrlPro=""},load:function(e){CAMAD.loadTemplate(tempsNames.adm_get_sen,domEl.adm_div_recurrent),searchFormMethod.searchFrom(),getSenMethod.refreshFilters(),CAMAD.loadTemplate(tempsNames.adm_get_sen_head,domEl.adm_div_get_sen_head),getSenMethod.sortingFilters(),$(".selectpicker").selectpicker(),__sizeCheck($(window)),scrollToTop()},unload:function(e){CAMAD.setHTML(domEl.adm_div_recurrent,""),GLOBALLastUrlPro=""}}),Finch.route("/set/seminuevos/:senId",{setup:function(e){ga("send","pageview","/set/seminuevos/"+e.senId)},load:function(e){CAMAD.appendMulti(domEl.adm_div_recurrent,[["div",{id:domEl.adm_div_set_sen_data_name},"",!0],["div",{id:domEl.adm_div_set_sen_load_pictures_name},"",!0]]),setSenMethod.refreshSen(e.senId),CAMAD.loadTemplate(tempsNames.adm_picture_sen,domEl.adm_div_set_sen_load_pictures),pictureSenMethod.pictureLoader(e.senId),pictureSenMethod.refreshPictures(e.senId),$(".selectpicker").selectpicker(),__sizeCheck($(window)),scrollToTop()},unload:function(e){CAMAD.setHTML(domEl.adm_div_recurrent,"")}}),Finch.route("/new/seminuevos",{setup:function(e){ga("send","pageview","/new/seminuevos")},load:function(e){newSenMethod.resetSen(),__sizeCheck($(window)),scrollToTop()},unload:function(e){CAMAD.setHTML(domEl.adm_div_recurrent,"")}}),Finch.listen();
$(document).ready(function(){window.onload=function(){favicon.change("../../resources/public/img/camcaricon.ico"),setTimeout(function(){favicon.change("../../resources/public/img/camcaricon.ico")},1e4)},$.fn.serializeFormJSON=function(){var e={},n=this.serializeArray();return $.each(n,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},Number.prototype.format=function(e,n){var a="(\\d)(?=(\\d{"+(n||3)+"}) + "+(e>0?"\\.":"$")+")";return this.toFixed(Math.max(0,~~e)).replace(new RegExp(a,"g"),"$1,")},$(window).resize(function(){__sizeCheck($(this))}),$(domEl.adm_div_recurrent).on("click",".utility-bar .container .row .tools .fa",function(){var e,n;e=100,n=$(this).parents(".utility-box").children(".large-pad"),$(this).hasClass("fa-chevron-down")?($(this).removeClass("fa-chevron-down").addClass("fa-chevron-up"),n.slideUp(e)):($(this).removeClass("fa-chevron-up").addClass("fa-chevron-down"),n.slideDown(e))}),$(domEl.adm_id_results_holder).hasClass("results-list-view")&&viewsMethods.results,$("body").on("click",".mobile-toggle",openMenuMethods.clickOpenMenu),$("body").on("click","#return-index",closeMenuMethods.clickClose),$("body").on("click","#go-add-pre-owned",closeMenuMethods.clickClose),$("body").on("click","#go-list-pre-owned",closeMenuMethods.clickClose),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_sen_filter_agency,getSenMethod.changeAgency),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_sen_filter_category,getSenMethod.changeCategory),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_sen_filter_brand,getSenMethod.changeBrand),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_sen_filter_model,getSenMethod.changeModel),$(domEl.adm_div_recurrent).on("keyup",domEl.adm_input_sen_filter_search,getSenMethod.keyupSearch),$(domEl.adm_div_recurrent).on("blur",domEl.adm_input_sen_filter_search,getSenMethod.blurSearch),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_sen_filters_clean,getSenMethod.clickCleanFilters),$(domEl.adm_div_recurrent).on("change",domEl.adm__sen_sorter,getSenMethod.changeSorter),$(domEl.adm_div_recurrent).on("change",domEl.adm__sen_sort,getSenMethod.changeSort),$(domEl.adm_div_recurrent).on("click",domEl.adm__sen_action_delete,getSenMethod.clickSenActionDelete),$(domEl.adm_div_recurrent).on("click",domEl.adm__sen_action_set,getSenMethod.clickSenActionSet),$(domEl.adm_div_recurrent).on("click",domEl.adm_id_views_grid,getSenMethod.clickGridView),$(domEl.adm_div_recurrent).on("click",domEl.adm_id_views_list,getSenMethod.clickListView),$(domEl.adm_div_recurrent).on("click",".search-trigger",getSenMethod.clickSearch),$(domEl.adm_div_recurrent).on("click","#close-panel",getSenMethod.clickCloseSearch),$(domEl.adm_div_recurrent).on("click",".search-advanced-trigger",getSenMethod.clickSearchAdvanced),$(domEl.adm_div_recurrent).on("click",".view-details-model",getSenMethod.clickShowDetails),$(domEl.adm_div_recurrent).on("keypress",domEl.adm_input_new_sen_price,inputValMetdods.isDecimalKP),$(domEl.adm_div_recurrent).on("blur",domEl.adm_input_new_sen_price,inputValMetdods.roundDecimalBlur),$(domEl.adm_div_recurrent).on("keypress",domEl.adm_input_new_sen_mileage,inputValMetdods.isDecimalKP),$(domEl.adm_div_recurrent).on("blur",domEl.adm_input_new_sen_mileage,inputValMetdods.roundDecimalBlur),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_new_sen_brand,newSenMethod.changeBrand),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_new_sen_select,newSenMethod.changeSelect),$(domEl.adm_div_recurrent).on("keyup",domEl.adm_input_new_sen_input,newSenMethod.keyupInput),$(domEl.adm_div_recurrent).on("keyup",domEl.adm_txta_new_sen_description,newSenMethod.keyupDescription),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_new_sen_clean,newSenMethod.clickClean),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_new_sen_save,newSenMethod.clickSave),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_new_sen_seminuevos_list,newSenMethod.clickSeminuevosList),$(domEl.adm_div_recurrent).on("keypress",domEl.adm_input_set_sen_price,inputValMetdods.isDecimalKP),$(domEl.adm_div_recurrent).on("blur",domEl.adm_input_set_sen_price,inputValMetdods.roundDecimalBlur),$(domEl.adm_div_recurrent).on("keypress",domEl.adm_input_set_sen_mileage,inputValMetdods.isDecimalKP),$(domEl.adm_div_recurrent).on("blur",domEl.adm_input_set_sen_mileage,inputValMetdods.roundDecimalBlur),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_set_sen_brand,setSenMethod.changeBrand),$(domEl.adm_div_recurrent).on("change",domEl.adm_select_set_sen_select,setSenMethod.changeSelect),$(domEl.adm_div_recurrent).on("keyup",domEl.adm_input_set_sen_input,setSenMethod.keyupInput),$(domEl.adm_div_recurrent).on("keyup",domEl.adm_txta_set_sen_description,setSenMethod.keyupDescription),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_set_sen_clean,setSenMethod.clickClean),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_set_sen_save,setSenMethod.clickSave),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_set_sen_restore,setSenMethod.clickRestore),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_set_sen_seminuevos_list,setSenMethod.clickSeminuevosList),$(domEl.adm_div_recurrent).on("click",domEl.adm_btn_picture_sen_seminuevos_list,pictureSenMethod.clickSeminuevosList),$(domEl.adm_div_recurrent).on("click",domEl.adm__picture_sen_action_thumb,pictureSenMethod.clickActionThumb),$(domEl.adm_div_recurrent).on("click",domEl.adm__picture_sen_action_delete,pictureSenMethod.clickActionDelete)});
