
;var CAMIN={};CAMIN=function(){function e(e,a){return moment.lang(a),moment(e).format("dddd[,] LL")}function a(e,a){return moment.lang(a),moment(e,"YYYY-MM-DD hh:mm:ss").fromNow(!0)}function n(e,a){var n=Handlebars.templates[e];return a?n(a):n}function t(e,a,t){$(a).html(n(e,t))}function i(e){return $(e).val()}function l(e,a){$(e).val(a)}function s(e){return $(e).length>0?!0:!1}function o(e){var a,n;a=$(e).val(),n=$.trim(a),$(e).val(n)}function r(e){return $(e).html()}function d(e,a){$(e).html(a)}function c(e){var a,n;a=$(e).val(),n=hex_sha512(a),$(e).val(n)}function u(e,a,n,t,i){var l;l="<"+a;for(var s in n)l+=n.hasOwnProperty(s)?" "+s+"='"+n[s]+"'":"";i?(l+=">",l+=t,l+="</"+a+">"):(l+=" />",l+=t),$(e).append(l)}function m(e,a){for(var n=0;n<a.length;n++)u(e,a[n][0],a[n][1],a[n][2],a[n][3])}function p(e,a,n,t,i){var l;l="<"+a;for(var s in n)l+=n.hasOwnProperty(s)?" "+s+"='"+n[s]+"'":"";i?(l+=">",l+=t,l+="</"+a+">"):(l+=" />",l+=t),$(e).prepend(l)}function g(e,a){for(var n=0;n<a.length;n++)p(e,a[n][0],a[n][1],a[n][2],a[n][3])}function v(e){var a,n,t,i,l,s,o,r,d,c,u,m,p,g,v,f,h;$(e).each(function(){a=$(this),n=$(a).val(),n=$.trim(n),t=n.length,i=a.css("font-size"),i=L(i,"px",""),i=+i,l=a.css("font-family"),s=a.css("width"),s=L(s,"px",""),s=+s,height=a.css("height"),o=a.css("padding-top"),o=L(o,"px",""),o=+o,r=a.css("padding-bottom"),r=L(r,"px",""),r=+o,d=a.css("line-height"),d=L(d,"px",""),d=+d,c=a.css("padding-left"),c=L(c,"px",""),c=+c,u=a.css("padding-right"),u=L(u,"px",""),u=+u,m=document.createElement("canvas"),p=m.getContext("2d"),p.font=i+"px"+l,g=p.measureText(n).width,g=Math.ceil(g),v=s-c-u,h=height,t&&g>v&&(f=g/v,f=Math.ceil(f),h=o+f*i+(f-1)*d+r,h+="px"),a.css("word-break","break-word"),a.css("height",h),a.css("vertical-align","middle")})}function f(e,a,n){var t,i,l,s,o,r;switch(t=new Date,i=new Date(t),i.setDate(t.getDate()+a),l=i.getFullYear(),s=+i.getMonth(),s+=1,o=i.getDate(),r=l+"-"+s+"-"+(+o+1),$(e).datetimepicker({pickTime:!1}),n){case 0:$(e).data("DateTimePicker").setDate(r);break;case 1:$(e).data("DateTimePicker").setMinDate(i),$(e).data("DateTimePicker").setDate(r);break;case 2:$(e).data("DateTimePicker").setMinDate(i)}}function h(e,a){var n;for(var t in e)e[t]=$.trim(e[t]);return n=_.size(_.compact(_.pick(e,a))),n===a.length?!0:!1}function b(e,a){var n;for(var t in e)e[t]=$.trim(e[t]);return n=_.size(_.compact(_.pick(e,a))),n?!1:!0}function y(e){$(e).each(function(){this.reset()})}function x(e,a){return $.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",data:JSON.stringify(a)})}function w(e){var a;return a=function(){var a=null;return $.ajax({async:!1,global:!1,url:e,dataType:"json"}).done(function(e){a=e}),a}()}function M(e,a){return"object"==typeof e?e.hasOwnProperty(a):!1}function k(e,a,n,t){return _.filter(_.pluck(e,a),function(e){return t?e===n:e!==n})}function A(e,a){return _.reduce(_.pluck(e,a),function(e,a){return+e+ +a})}function T(e,a){var n,t;n=[],t=_.pairs(a);for(var i=0;i<e.length;i++)for(n[i]={},j=0;j<t.length;j++)n[i][t[j][0]]=e[i][t[j][1]];return n}function E(e,a){var n,t;do n=e.length,e=_.without(e,_.findWhere(e,a)),t=e.length;while(n!==t);return e}function D(e,a){pairs=_.pairs(a),withoutArrayObj=[];for(var n=0;n<pairs.length;n++)withoutArrayObj[n]=new Object,withoutArrayObj[n][pairs[n][0]]=pairs[n][1];for(n=0;n<withoutArrayObj.length;n++)e=E(e,withoutArrayObj[n]);return e}function C(e){var a;return a=accounting.formatMoney(e)}function O(e,a){var n,t,i,l,s,o;if(o=NaN,!isNaN(e)){if(e=""+e,n=e.split("."),t=n[0],i="0",2===n.length)for(i=n[1],s=Math.pow(10,i.length-a),l=+i/s,i=Math.ceil(l),i=""+i,idx=0;idx<a-i.length;idx++)i="0"+i;o=t+"."+i,o=+o,o=o.toFixed(a)}return o}function L(e,a,n){return e=""+e,expReg=new RegExp(a,"g"),e.replace(expReg,n)}function I(e){var a,n,t,i;for(a=e.split(" "),t=a.length,n="",i=0;t>i;i++)i!=t-1?n=n+S(a[i])+" ":n+=S(a[i]);return n}function S(e){return e.substr(0,1).toUpperCase()+e.substr(1,e.length).toLowerCase()}function N(e){var a,n;return a=$.trim(e),n=a.split(" "),n=_.without(n,""),a=n.join(" "),a=$.trim(a)}function F(e,a,n,t){"use strict";$(e).fileupload({url:n,dataType:"json",done:function(e,a){var n,i;i=a.result.files,n=x(t,i),n.success(function(){$.each(i,function(e,a){$("<p/>").text(a.name).appendTo("#files")})})},progressall:function(e,n){var t=parseInt(n.loaded/n.total*100,10);$(a).css("width",t+"%","background-color","#5cb85c")}})}function z(e){for(var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n=4,t="",i=0;n>i;i++){var l=Math.floor(Math.random()*a.length);t+=a.substring(l,l+1)}$(e).val(t)}return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"ene._feb._mar_abr._may_jun_jul._ago_sep._oct._nov._dic.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"dom._lun._mar._mier._juev._vie._sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Mañanaalas]LT",nextWeek:"dddd[a]LT",lastDay:"[Ayera]LT",lastWeek:"dddd[hasta]LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d dias",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){returnnumber+(1===e?"er":"a")},week:{dow:1,doy:6}}),{momentToRoman:e,momentToHuman:a,getTemplate:n,loadTemplate:t,getValue:i,setValue:l,existInDOM:s,trimValue:o,getHTML:r,setHTML:d,cryptElement:c,appendOne:u,appendMulti:m,prependOne:p,prependMulti:g,resizeInput:v,setDateTPCalendar:f,validFormFull:h,validFormEmpty:b,resetForm:y,postalService:x,getInternalJSON:w,hasOwnPropertyOptimized:M,filterArrayObjByKey:k,sumArrayObjByKey:A,renameArrayObjKeys:T,withoutArrayObjAND:E,withoutArrayObjOR:D,currencyFormat:C,roundNDecimalFormat:O,replaceAll:L,ucWords:I,ucFirst:S,advancedTrim:N,picturesLoader:F,randomString:z}}();
function validate(e,a,n,t){var i,l,s,o;if(i={valid:!1,message:""},l=void 0==e||""===e,n=n===!0?!0:!1,n?l&&(i.message=validation_messages.required):l&&(i.valid=!0),!i.valid&&""===i.message){for(s=a.length;s--;)switch(o=a[s]){case"email":validations_regexp.email.test(e)||(i.message=validation_messages.email);break;case"name":validations_regexp.name.test(e)||(i.message=validation_messages.general);break;case"address":validations_regexp.address.exec(e)||(i.message=validation_messages.general);break;case"phone":validations_regexp.phone.exec(e)||(i.message=validation_messages.phone);break;case"upload":valid_extension_file(formulario,e)||(i.message=validation_messages.upload);break;default:i.message=validations_regexp.not_config}""===i.message&&(i.valid=!0)}return t&&!i.valid&&(i.message=t),i}var element,val_campo,padre,expr=/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-\.]+$/,inputValMetdods={isIntegerKP:function(e){var a,n,t,i,l,s;a=e.keyCode||e.which,t=String.fromCharCode(a),n="0123456789",i=[8,9,37,38,39,40,46],l=!1;for(s in i)a==i[s]&&(l=!0);return-1!=n.indexOf(t)||l?void 0:!1},isDecimalKP:function(e){var a,n;return n=$(this).val(),a=e.keyCode?e.keyCode:e.which,8==a?!0:a>47&&58>a?""==n?!0:(regexp=/.[0-9]{15}$/,!regexp.test(n)):46==a?""==n?!1:(regexp=/^[0-9]+$/,regexp.test(n)):!1},roundDecimalBlur:function(){var e;e=$(this).val(),e=CAMIN.roundNDecimalFormat(e,2),$(this).val(e)}},validations_regexp={address:new RegExp(/^[a-zá-úüñ,#0-9. -]{2,}$/i),date:new RegExp(/^(\d{4})-(\d{1,2})-(\d{1,2})$/),email:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),name:new RegExp(/^[a-zá-úüñ. ]{2,}$/i),phone:new RegExp(/^[0-9\s\-]{7,13}$/),upload:new RegExp(/^[\w+\/]+\.\w{3}$/)},validation_messages={date:"Debe ser aaaa-mm-dd",date_tomorrow:"Sólo a partir de mañana",email:"Verifica tu correo",general:"Campo no válido",not_config:"Tipo desconocido",not_null:"No puede ser nulo",phone:"Verifica que tu número sea de 10 dígitos",required:"Campo requerido",empty:"Campo vacío",upload:"Comprueba la extensión del archivo a subir"};$.validate_input=function(e){if(e.is("input")||e.is("textarea")){var a=e.data("validation-data").split("|"),n=a.indexOf("required");n>=0&&a.splice(n,1);var t=e.val(),i=validate(t,a,n>=0);return $.error_bubble(e,!i.valid,i.message),i.valid}var l=!(null===e.val());return $.error_bubble(e,!l,validation_messages.required),l},$.error_bubble=function(e,a,n){var t=e.parent().children("p.invalid-message");a?n?t.html(n+"<span>&nbsp;</span>").stop().hide().fadeIn():t.stop().hide().fadeIn():t.hide()};var validateMethods={validate:function(e,a,n,t,i){var l,s,o={valid:!1,message:""},r=void 0==e||""===e||e===$("#user_profile_pic").val();if(n=n===!0?!0:!1,n?r&&(o.message=validation_messages.required):r&&(o.valid=!0),!o.valid&&""===o.message){for(l=a.length;l--;)switch(s=a[l]){case"email":validations_regexp.email.test(e)||(o.message=validation_messages.email);break;case"name":validations_regexp.name.exec(e)||(o.message=validation_messages.general);break;case"address":validations_regexp.address.exec(e)||(o.message=validation_messages.general);break;case"phone":validations_regexp.phone.exec(e)||(o.message=validation_messages.phone);break;case"upload":valid_extension_file(i,e)||(o.message=validation_messages.upload);break;default:o.message=validations_regexp.not_config}""===o.message&&(o.valid=!0)}return t&&!o.valid&&(o.message=t),o},error_bubble:function(e,a,n){var t=e.parent().children("p.invalid-message");a?n?t.html(n+"<span>&nbsp;</span>").stop().hide().fadeIn():t.stop().hide().fadeIn():t.hide()},validate_input:function(e){var a,n,t,i;if(a=$(e.target),n=a.is("input"),t=a.is("textarea"),i=a.is('input[type="file"]'),n||t||i){var l,s,o,r,d;return l=a.data("validation-data"),s=l.split("|"),o=s.indexOf("required"),o>=0&&s.splice(o,1),r=a.val(),d=validateMethods.validate(r,s,o>=0),validateMethods.error_bubble(a,!d.valid,d.message),d.valid}var c;return c=!(null===a.val()),validateMethods.error_bubble(a,!c,validation_messages.required),c}},validateFieldsMethod={validInputEmail:function(){return element=$(this),val_campo=element.val(),padre=element.parent(),expr.test(val_campo)?(validateFieldsMethod.cleanOk(padre),validateFieldsMethod.cleanError(padre),$(element).after("<span class='label label-success animation-fadeIn ok'><i class='fa fa-check'></i></span>"),!0):(validateFieldsMethod.cleanError(padre),validateFieldsMethod.cleanOk(padre),!1)},validInput:function(){return element=$(this),val_campo=element.val(),padre=element.parent(),""==val_campo?(validateFieldsMethod.cleanError(padre),validateFieldsMethod.cleanOk(padre),$("button#goF").attr("disabled",!0),!1):(validateFieldsMethod.cleanOk(padre),validateFieldsMethod.cleanError(padre),$(element).after("<span class='label label-success animation-fadeIn ok'><i class='fa fa-check'></i></span>"),$("button#goF").attr("disabled",!1),!0)},cleanError:function(e){var a;a=$(e).children(".error"),$(a).remove()},cleanOk:function(e){var a;a=$(e).children(".ok"),$(a).remove()}};
var formLoginMethod={fillingControl:function(){var e,a;e=["email","password"],a=$("form.login-form").serializeFormJSON()},keyupInput:function(){formLoginMethod.fillingControl()},clickGo:function(){formLoginMethod.fillingControl()}};
var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};isMobile.any()?(alert("Mobile"),$("#download-mobile").show()):$("#download-desktop").show();
$(document).ready(function(){$.fn.serializeFormJSON=function(){var e={},a=this.serializeArray();return $.each(a,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},$("input.input-sign-in").on("keyup",formLoginMethod.keyupInput),$("input.validate-required").on("focusout",validateMethods.validate_input),$("button#goF").on("click",formLoginMethod.clickGo)});
