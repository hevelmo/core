
;var CAMIN={};CAMIN=function(){function e(e,n){return moment.lang(n),moment(e).format("dddd[,] LL")}function n(e,n){return moment.lang(n),moment(e,"YYYY-MM-DD hh:mm:ss").fromNow(!0)}function a(e,n){var a=Handlebars.templates[e];return n?a(n):a}function t(e,n,t){$(n).html(a(e,t))}function i(e){return $(e).val()}function o(e,n){$(e).val(n)}function s(e){return $(e).length>0?!0:!1}function l(e){var n,a;n=$(e).val(),a=$.trim(n),$(e).val(a)}function r(e){return $(e).html()}function c(e,n){$(e).html(n)}function d(e){var n,a;n=$(e).val(),a=hex_sha512(n),$(e).val(a)}function m(e,n,a,t,i){var o;o="<"+n;for(var s in a)o+=a.hasOwnProperty(s)?" "+s+"='"+a[s]+"'":"";i?(o+=">",o+=t,o+="</"+n+">"):(o+=" />",o+=t),$(e).append(o)}function u(e,n){for(var a=0;a<n.length;a++)m(e,n[a][0],n[a][1],n[a][2],n[a][3])}function p(e,n,a,t,i){var o;o="<"+n;for(var s in a)o+=a.hasOwnProperty(s)?" "+s+"='"+a[s]+"'":"";i?(o+=">",o+=t,o+="</"+n+">"):(o+=" />",o+=t),$(e).prepend(o)}function g(e,n){for(var a=0;a<n.length;a++)p(e,n[a][0],n[a][1],n[a][2],n[a][3])}function v(e){var n,a,t,i,o,s,l,r,c,d,m,u,p,_,g,v,f;$(e).each(function(){n=$(this),a=$(n).val(),a=$.trim(a),t=a.length,i=n.css("font-size"),i=D(i,"px",""),i=+i,o=n.css("font-family"),s=n.css("width"),s=D(s,"px",""),s=+s,height=n.css("height"),l=n.css("padding-top"),l=D(l,"px",""),l=+l,r=n.css("padding-bottom"),r=D(r,"px",""),r=+l,c=n.css("line-height"),c=D(c,"px",""),c=+c,d=n.css("padding-left"),d=D(d,"px",""),d=+d,m=n.css("padding-right"),m=D(m,"px",""),m=+m,u=document.createElement("canvas"),p=u.getContext("2d"),p.font=i+"px"+o,_=p.measureText(a).width,_=Math.ceil(_),g=s-d-m,f=height,t&&_>g&&(v=_/g,v=Math.ceil(v),f=l+v*i+(v-1)*c+r,f+="px"),n.css("word-break","break-word"),n.css("height",f),n.css("vertical-align","middle")})}function f(e,n,a){var t,i,o,s,l,r;switch(t=new Date,i=new Date(t),i.setDate(t.getDate()+n),o=i.getFullYear(),s=+i.getMonth(),s+=1,l=i.getDate(),r=o+"-"+s+"-"+(+l+1),$(e).datetimepicker({pickTime:!1}),a){case 0:$(e).data("DateTimePicker").setDate(r);break;case 1:$(e).data("DateTimePicker").setMinDate(i),$(e).data("DateTimePicker").setDate(r);break;case 2:$(e).data("DateTimePicker").setMinDate(i)}}function h(e,n){var a;for(var t in e)e[t]=$.trim(e[t]);return a=_.size(_.compact(_.pick(e,n))),a===n.length?!0:!1}function b(e,n){var a;for(var t in e)e[t]=$.trim(e[t]);return a=_.size(_.compact(_.pick(e,n))),a?!1:!0}function y(e){$(e).each(function(){this.reset()})}function w(e,n){return $.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",data:JSON.stringify(n)})}function M(e){var n;return n=function(){var n=null;return $.ajax({async:!1,global:!1,url:e,dataType:"json"}).done(function(e){n=e}),n}()}function A(e,n){return"object"==typeof e?e.hasOwnProperty(n):!1}function k(e,n,a,t){return _.filter(_.pluck(e,n),function(e){return t?e===a:e!==a})}function E(e,n){return _.reduce(_.pluck(e,n),function(e,n){return+e+ +n})}function x(e,n){var a,t;a=[],t=_.pairs(n);for(var i=0;i<e.length;i++)for(a[i]={},j=0;j<t.length;j++)a[i][t[j][0]]=e[i][t[j][1]];return a}function S(e,n){var a,t;do a=e.length,e=_.without(e,_.findWhere(e,n)),t=e.length;while(a!==t);return e}function C(e,n){pairs=_.pairs(n),withoutArrayObj=[];for(var a=0;a<pairs.length;a++)withoutArrayObj[a]=new Object,withoutArrayObj[a][pairs[a][0]]=pairs[a][1];for(a=0;a<withoutArrayObj.length;a++)e=S(e,withoutArrayObj[a]);return e}function T(e){var n;return n=accounting.formatMoney(e)}function N(e,n){var a,t,i,o,s,l;if(l=NaN,!isNaN(e)){if(e=""+e,a=e.split("."),t=a[0],i="0",2===a.length)for(i=a[1],s=Math.pow(10,i.length-n),o=+i/s,i=Math.ceil(o),i=""+i,idx=0;idx<n-i.length;idx++)i="0"+i;l=t+"."+i,l=+l,l=l.toFixed(n)}return l}function D(e,n,a){return e=""+e,expReg=new RegExp(n,"g"),e.replace(expReg,a)}function I(e){var n,a,t,i;for(n=e.split(" "),t=n.length,a="",i=0;t>i;i++)i!=t-1?a=a+L(n[i])+" ":a+=L(n[i]);return a}function L(e){return e.substr(0,1).toUpperCase()+e.substr(1,e.length).toLowerCase()}function O(e){var n,a;return n=$.trim(e),a=n.split(" "),a=_.without(a,""),n=a.join(" "),n=$.trim(n)}function B(e,n,a,t){"use strict";$(e).fileupload({url:a,dataType:"json",done:function(e,n){var a,i;i=n.result.files,a=w(t,i),a.success(function(){$.each(i,function(e,n){$("<p/>").text(n.name).appendTo("#files")})})},progressall:function(e,a){var t=parseInt(a.loaded/a.total*100,10);$(n).css("width",t+"%","background-color","#5cb85c")}})}function P(e){for(var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",a=4,t="",i=0;a>i;i++){var o=Math.floor(Math.random()*n.length);t+=n.substring(o,o+1)}$(e).val(t)}return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"ene._feb._mar_abr._may_jun_jul._ago_sep._oct._nov._dic.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"dom._lun._mar._mier._juev._vie._sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Mañanaalas]LT",nextWeek:"dddd[a]LT",lastDay:"[Ayera]LT",lastWeek:"dddd[hasta]LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d dias",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){returnnumber+(1===e?"er":"a")},week:{dow:1,doy:6}}),{momentToRoman:e,momentToHuman:n,getTemplate:a,loadTemplate:t,getValue:i,setValue:o,existInDOM:s,trimValue:l,getHTML:r,setHTML:c,cryptElement:d,appendOne:m,appendMulti:u,prependOne:p,prependMulti:g,resizeInput:v,setDateTPCalendar:f,validFormFull:h,validFormEmpty:b,resetForm:y,postalService:w,getInternalJSON:M,hasOwnPropertyOptimized:A,filterArrayObjByKey:k,sumArrayObjByKey:E,renameArrayObjKeys:x,withoutArrayObjAND:S,withoutArrayObjOR:C,currencyFormat:T,roundNDecimalFormat:N,replaceAll:D,ucWords:I,ucFirst:L,advancedTrim:O,picturesLoader:B,randomString:P}}();
function validate(e,n,a,t){var i,s,o,l;if(i={valid:!1,message:""},s=void 0==e||""===e,a=a===!0?!0:!1,a?s&&(i.message=validation_messages.required):s&&(i.valid=!0),!i.valid&&""===i.message){for(o=n.length;o--;)switch(l=n[o]){case"email":validations_regexp.email.test(e)||(i.message=validation_messages.email);break;case"name":validations_regexp.name.test(e)||(i.message=validation_messages.general);break;case"address":validations_regexp.address.exec(e)||(i.message=validation_messages.general);break;case"phone":validations_regexp.phone.exec(e)||(i.message=validation_messages.phone);break;case"upload":valid_extension_file(formulario,e)||(i.message=validation_messages.upload);break;default:i.message=validations_regexp.not_config}""===i.message&&(i.valid=!0)}return t&&!i.valid&&(i.message=t),i}var element,val_campo,padre,expr=/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-\.]+$/,inputValMetdods={isIntegerKP:function(e){var n,a,t,i,s,o;n=e.keyCode||e.which,t=String.fromCharCode(n),a="0123456789",i=[8,9,37,38,39,40,46],s=!1;for(o in i)n==i[o]&&(s=!0);return-1!=a.indexOf(t)||s?void 0:!1},isDecimalKP:function(e){var n,a;return a=$(this).val(),n=e.keyCode?e.keyCode:e.which,8==n?!0:n>47&&58>n?""==a?!0:(regexp=/.[0-9]{15}$/,!regexp.test(a)):46==n?""==a?!1:(regexp=/^[0-9]+$/,regexp.test(a)):!1},roundDecimalBlur:function(){var e;e=$(this).val(),e=CAMIN.roundNDecimalFormat(e,2),$(this).val(e)}},validations_regexp={address:new RegExp(/^[a-zá-úüñ,#0-9. -]{2,}$/i),date:new RegExp(/^(\d{4})-(\d{1,2})-(\d{1,2})$/),email:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),name:new RegExp(/^[a-zá-úüñ. ]{2,}$/i),phone:new RegExp(/^[0-9\s\-]{7,13}$/),upload:new RegExp(/^[\w+\/]+\.\w{3}$/)},validation_messages={date:"Debe ser aaaa-mm-dd",date_tomorrow:"Sólo a partir de mañana",email:"Verifica tu correo",general:"Campo no válido",not_config:"Tipo desconocido",not_null:"No puede ser nulo",phone:"Verifica que tu número sea de 10 dígitos",required:"Campo requerido",empty:"Campo vacío",upload:"Comprueba la extensión del archivo a subir"};$.validate_input=function(e){if(e.is("input")||e.is("textarea")){var n=e.data("validation-data").split("|"),a=n.indexOf("required");a>=0&&n.splice(a,1);var t=e.val(),i=validate(t,n,a>=0);return $.error_bubble(e,!i.valid,i.message),i.valid}var s=!(null===e.val());return $.error_bubble(e,!s,validation_messages.required),s},$.error_bubble=function(e,n,a){var t=e.parent().children("p.invalid-message");n?a?t.html(a+"<span>&nbsp;</span>").stop().hide().fadeIn():t.stop().hide().fadeIn():t.hide()};var validateMethods={validate:function(e,n,a,t,i){var s,o,l={valid:!1,message:""},r=void 0==e||""===e||e===$("#user_profile_pic").val();if(a=a===!0?!0:!1,a?r&&(l.message=validation_messages.required):r&&(l.valid=!0),!l.valid&&""===l.message){for(s=n.length;s--;)switch(o=n[s]){case"email":validations_regexp.email.test(e)||(l.message=validation_messages.email);break;case"name":validations_regexp.name.exec(e)||(l.message=validation_messages.general);break;case"address":validations_regexp.address.exec(e)||(l.message=validation_messages.general);break;case"phone":validations_regexp.phone.exec(e)||(l.message=validation_messages.phone);break;case"upload":valid_extension_file(i,e)||(l.message=validation_messages.upload);break;default:l.message=validations_regexp.not_config}""===l.message&&(l.valid=!0)}return t&&!l.valid&&(l.message=t),l},error_bubble:function(e,n,a){var t=e.parent().children("p.invalid-message");n?a?t.html(a+"<span>&nbsp;</span>").stop().hide().fadeIn():t.stop().hide().fadeIn():t.hide()},validate_input:function(e){var n,a,t,i;if(n=$(e.target),a=n.is("input"),t=n.is("textarea"),i=n.is('input[type="file"]'),a||t||i){var s,o,l,r,c;return s=n.data("validation-data"),o=s.split("|"),l=o.indexOf("required"),l>=0&&o.splice(l,1),r=n.val(),c=validateMethods.validate(r,o,l>=0),validateMethods.error_bubble(n,!c.valid,c.message),c.valid}var d;return d=!(null===n.val()),validateMethods.error_bubble(n,!d,validation_messages.required),d}},validateFieldsMethod={validInputEmail:function(){return element=$(this),val_campo=element.val(),padre=element.parent(),expr.test(val_campo)?(validateFieldsMethod.cleanOk(padre),validateFieldsMethod.cleanError(padre),$(element).after("<span class='label label-success animation-fadeIn ok'><i class='fa fa-check'></i></span>"),!0):(validateFieldsMethod.cleanError(padre),validateFieldsMethod.cleanOk(padre),!1)},validInput:function(){return element=$(this),val_campo=element.val(),padre=element.parent(),""==val_campo?(validateFieldsMethod.cleanError(padre),validateFieldsMethod.cleanOk(padre),$("button#goF").attr("disabled",!0),!1):(validateFieldsMethod.cleanOk(padre),validateFieldsMethod.cleanError(padre),$(element).after("<span class='label label-success animation-fadeIn ok'><i class='fa fa-check'></i></span>"),$("button#goF").attr("disabled",!1),!0)},cleanError:function(e){var n;n=$(e).children(".error"),$(n).remove()},cleanOk:function(e){var n;n=$(e).children(".ok"),$(n).remove()}};
var $password,$confPassword,$name,$email,p,$btnSend;$password=$("#inputPassword"),$conf_password=$("#inputPasswordNewConfirm"),$cryptId=$("#cryptId"),$email=$("#email"),$name=$("#name"),$btnSend=$(".enviar.button.blue"),$.submit_recovery_password_form=function(){return form_errors=0,$.validate_input($password)&&$.validate_input($conf_password)||(form_errors++,$("#inputPassword").focus(),swal({title:"Oops...",text:"Los datos son requeridos",type:"error",timer:1500,showConfirmButton:!1})),$password.val()!=$conf_password.val()?(form_errors++,$conf_password.focus(),$conf_password.val(""),swal({title:"Oops...",text:"La nueva contraseña y la confirmación no coinciden",type:"error",timer:1500,showConfirmButton:!1}),!1):void(0==form_errors&&setTimeout(function(){var e={p:hex_sha512($password.val()),name:$("#name").val(),email:$("#email").val(),crypt_id:$("#cryptId").val()},n="process_recovery_password.php";$.ajax({cache:!1,data:e,dataType:"html",method:"POST",success:function(e){e?setTimeout(function(){swal({title:"Bienvenido...",text:"Tu Contraseña ha sido cambiada con exito.",type:"success",showConfirmButton:!0}),setTimeout(function(){window.location="../welcome"},1250)},1200):setTimeout(function(){swal({title:"OoO!!!",text:"Ha ocurrido un error, por favor, Intentalo nuevamente",type:"error",showConfirmButton:!0})},1200)},error:function(){setTimeout(function(){swal({title:"Oops...",text:"Ha ocurrido un error, por favor, inténtalo nuevamente.",type:"error",showConfirmButton:!0})},1200)},url:n})},1e3))};
$(".strength_password_pass").strength(),$("#inputPassword").focus();
$(document).ready(function(){$password.on("focusout",function(){$.validate_input($password)}),$conf_password.on("focusout",function(){$.validate_input($conf_password)})});
