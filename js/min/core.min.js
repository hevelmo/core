
;var domEl,tempsNames,urlsApi;domEl={div_hidden_inputs_session:"div#hidden-inputs-session",div_hidden_inputs_temporal:"div#hidden-inputs-temporal",div_recurrent:"div#content-temporal-interactive",h1_demo_hello:"h1#demo-hello",h3_demo_date:"h3#demo-date",recurrent_body:"body",recurrent_head:"head",select_lan_demo:"select#lan-demo"},tempsNames={tmp_demo:"tmp_demo"},urlsApi={get_test:"api/v1/get/test",post_test:"api/v1/post/test"};
function resetAlert(){alertify.set({labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok"})}var section,IS_MOBILE=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),multipleSupport="undefined"!=typeof $("<input/>")[0].multiple,isIE=/msie/i.test(navigator.userAgent),favicon={load_favicon:function(){favicon.change("../resources/public/img/PROcaricon.ico")},change:function(e,n){2==arguments.length&&(document.title=optionamDocTitle),this.addLink(e,"shortcur icon")},addLink:function(e,n){var a=document.createElement("link");a.type="image/x-icon",a.rel=n,a.href=e,this.removeLinkIfExists(n),this.docHead.appendChild(a)},removeLinkIfExists:function(e){for(var n=this.docHead.getElementsByTagName("link"),a=0;a<n.length;a++){var t=n[a];if("image/x-icon"==t.type&&t.rel==e)return void this.docHead.removeChild(t)}},docHead:document.getElementsByTagName("head")[0]},demoMethods={changeLan:function(e){var n,a,t;n=PRO.getValue($(this)),a=$(domEl.h3_demo_date).data("date"),t=PRO.momentToRoman(a,n),$(domEl.h3_demo_date).text(t)}},inputValMetdods={isIntegerKP:function(e){return/\d/.test(String.fromCharCode(e.keyCode))}},validations_regexp={address:new RegExp(/^[a-zá-úüñ,#0-9. -]{2,}$/i),date:new RegExp(/^(\d{4})-(\d{1,2})-(\d{1,2})$/),email:new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),name:new RegExp(/^[a-zá-úüñ. ]{2,}$/i),phone:new RegExp(/^[0-9\s\-]{7,13}$/)},validation_messages={date:"Debe ser aaaa-mm-dd",date_tomorrow:"Sólo a partir de mañana",email:"Verifica tu correo",general:"Campo no válido",not_config:"Tipo desconocido",not_null:"No puede ser nulo",phone:"Verifica que tu número sea de 10 dígitos",required:"Campo requerido",empty:"Campo vacío"},validateMethods={validate:function(e,n,a,t){var i,o,s={valid:!1,message:""},r=void 0==e||""===e;if(a=a===!0?!0:!1,a?r&&(s.message=validation_messages.required):r&&(s.valid=!0),!s.valid&&""===s.message){for(i=n.length;i--;)switch(o=n[i]){case"email":validations_regexp.email.test(e)||(s.message=validation_messages.email);break;case"name":validations_regexp.name.exec(e)||(s.message=validation_messages.general);break;case"address":validations_regexp.address.exec(e)||(s.message=validation_messages.general);break;case"grade":is_model_name(e)||(s.message=validation_messages.required);break;case"date":validations_regexp.date.exec(e)||(s.message=validation_messages.date);break;case"phone":validations_regexp.phone.exec(e)||(s.message=validation_messages.phone);break;default:s.message=validations_regexp.not_config}""===s.message&&(s.valid=!0)}return t&&!s.valid&&(s.message=t),s},error_bubble:function(e,n,a){var t=e.parent().children("p.invalid-message");n?a?t.html(a+"<span>&nbsp;</span>").stop().hide().fadeIn():t.stop().hide().fadeIn():t.hide()},validate_input:function(e){var n=$(e.target);if(n.is("input")||n.is("textarea")){var a=n.data("validation-data"),t=a.split("|"),i=t.indexOf("required");i>=0&&t.splice(i,1);var o=n.val(),s=validateMethods.validate(o,t,i>=0);return validateMethods.error_bubble(n,!s.valid,s.message),s.valid}var r=!(null===n.val());return validateMethods.error_bubble(n,!r,validation_messages.required),r}};
var PRO={};PRO=function(){function e(e,n){return moment.lang(n),moment(e).format("dddd[,] LL")}function n(e,n){return moment.lang(n),moment(e,"YYYY-MM-DD hh:mm:ss").fromNow(!0)}function a(e,n,a){var t=Handlebars.templates[e];$(n).html(a?t(a):t)}function t(e){return $(e).val()}function i(e,n){$(e).val(n)}function o(e){return $(e).val()?!0:!1}function s(e){var n,a;n=$(e).val(),a=$.trim(n),$(e).val(a)}function r(e){return $(e).html()}function d(e,n){$(e).html(n)}function l(e){var n,a;n=$(e).val(),a=hex_sha512(n),$(e).val(a)}function c(e,n,a,t,i){var o;o="<"+n;for(var s in a)o+=a.hasOwnProperty(s)?" "+s+"='"+a[s]+"'":"";i?(o+=">",o+=t,o+="</"+n+">"):(o+=" >",o+=t),$(e).append(o)}function m(e,n){for(var a=0;a<n.length;a++)c(e,n[a][0],n[a][1],n[a][2],n[a][3])}function u(e,n,a){var t,i,o,s,r,d;t=new Date,i=new Date(t),i.setDate(t.getDate()+n),o=i.getFullYear(),s=+i.getMonth(),s+=1,r=i.getDate(),d=o+"-"+s+"-"+r,$(e).datetimepicker({pickTime:!1}),a?($(e).data("DateTimePicker").setMinDate(i),$(e).data("DateTimePicker").setDate(d)):$(e).data("DateTimePicker").setDate(d)}function g(e,n){var a;return a=_.size(_.compact(_.pick(e,n))),a===n.length?!0:!1}function p(e,n){var a;return a=_.size(_.compact(_.pick(e,n))),a?!1:!0}function v(e){$(e).each(function(){this.reset()})}function h(e,n){return $.ajax({type:"POST",contentType:"application/json",url:e,dataType:"json",data:JSON.stringify(n)})}function f(e){var n;return n=function(){var n=null;return $.ajax({async:!1,global:!1,url:e,dataType:"json"}).done(function(e){n=e}),n}()}function b(e,n,a,t){return _.filter(_.pluck(e,n),function(e){return t?e===a:e!==a})}function y(e,n){return _.reduce(_.pluck(e,n),function(e,n){return e+n})}function k(e,n){var a,t;a=[],t=_.pairs(n);for(var i=0;i<e.length;i++)for(a[i]={},j=0;j<t.length;j++)a[i][t[j][0]]=e[i][t[j][1]];return a}function C(e,n){var a,t;do a=e.length,e=_.without(e,_.findWhere(e,n)),t=e.length;while(a!==t);return e}function w(e,n){pairs=_.pairs(n),withoutArrayObj=[];for(var a=0;a<pairs.length;a++)withoutArrayObj[a]=new Object,withoutArrayObj[a][pairs[a][0]]=pairs[a][1];for(a=0;a<withoutArrayObj.length;a++)e=C(e,withoutArrayObj[a]);return e}function M(e){var n;return n=accounting.formatMoney(e)}function x(e){for(var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",a=4,t="",i=0;a>i;i++){var o=Math.floor(Math.random()*n.length);t+=n.substring(o,o+1)}$(e).val(t)}return moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"ene._feb._mar_abr._may_jun_jul._ago_sep._oct._nov._dic.".split("_"),weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"dom._lun._mar._mier._juev._vie._sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Mañanaalas]LT",nextWeek:"dddd[a]LT",lastDay:"[Ayera]LT",lastWeek:"dddd[hasta]LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d dias",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){returnnumber+(1===e?"er":"a")},week:{dow:1,doy:6}}),{momentToHuman:n,momentToRoman:e,loadTemplate:a,getValue:t,setValue:i,exist:o,getHTML:r,setHTML:d,appendOne:c,appendMulti:m,trimValue:s,cryptElement:l,setDateTPCalendar:u,validFormFull:g,validFormEmpty:p,resetForm:v,postalService:h,getInternalJSON:f,filterArrayObjByKey:b,sumArrayObjByKey:y,renameArrayObjKeys:k,withoutArrayObjAND:C,withoutArrayObjOR:w,currencyFormat:M,randomString:x}}();
Finch.route("/",{setup:function(e){},load:function(e){var n,a;n=PRO.getInternalJSON(urlsApi.get_test),a=PRO.postalService(urlsApi.post_test),a.success(function(e){console.log(e)}),a.error(function(e){alert("suerte para la proxima, sigue participando...")}),PRO.loadTemplate(tempsNames.tmp_demo,domEl.div_recurrent,n)},unload:function(e){section="",PRO.setHTML(domEl.div_recurren,"")}}),Finch.listen();
$(document).ready(function(){$.fn.serializeFormJSON=function(){var e={},n=this.serializeArray();return $.each(n,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},Number.prototype.format=function(e,n){var a="(\\d)(?=(\\d{"+(n||3)+"}) + "+(e>0?"\\.":"$")+")";return this.toFixed(Math.max(0,~~e)).replace(new RegExp(a,"g"),"$1,")},$(domEl.div_recurrent).on("change",domEl.select_lan_demo,demoMethods.changeLan)});
